{
    "sid": "abf21783-f4f5-4ecf-b39c-43422677cc9c",
    "name": "ab影院",
    "logo": "",
    "info": "AB影院（WWW.ABU22.COM）蓝光高清资源应有尽有，资源无广告，各大平台同步更新。",
    "baseUrl": "https://www.abu22.com/",
    "expr": "www\\.abu22\\.com",
    "type": 2,
    "grade": 1,
    "needProxy": 0,
    "encode": "utf-8",
    "style": 1,
    "version": "1.0.5",
    "imgMode": 2,
    "openSource": true,
    "engine": 20,
    "disable": true,
    "author": {
        "name": "静静",
        "info": "我是静静，App和轻应用有问题都可以联系我哦",
        "contact": "1077674403",
        "donateLink": [
            "https://otaku-time-1s.oss-cn-beijing.aliyuncs.com/otaku/image/img_donate_alipay.jpg",
            "https://otaku-time-1s.oss-cn-beijing.aliyuncs.com/otaku/image/img_donate_wechat.png"
        ]
    },
    "script": {
        "requires": [
            {
                "lib": "cheerio"
            }
        ],
        "code": "ZnVuY3Rpb24gaG9tZV9wYXJzZSh1cmwsIGh0bWwsIGhlYWRlcnMpIHsKICAgIHZhciBsaXN0ID0gW107CiAgICBsZXQgJCA9IGNoZWVyaW8ubG9hZChodG1sKTsKICAgICQoJy5zdHVpLXZvZGxpc3QnKS5jaGlsZHJlbignbGknKS5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7CiAgICAgICAgdmFyIGl0ZW0gPSAkKCIuc3R1aS12b2RsaXN0X190aHVtYiIpLmVxKGkpOwogICAgICAgIGxpc3QucHVzaCh7CiAgICAgICAgICAgIHRpdGxlOiBpdGVtLmF0dHIoJ3RpdGxlJyksCiAgICAgICAgICAgIGxpbms6IGl0ZW0uYXR0cignaHJlZicpLAogICAgICAgICAgICBjb3ZlcjogaXRlbS5hdHRyKCdkYXRhLW9yaWdpbmFsJyksCiAgICAgICAgICAgIGluZm86ICQodGhpcykuZmluZCgnLnBpYy10ZXh0LnRleHQtcmlnaHQnKS50ZXh0KCksCiAgICAgICAgfSk7CiAgICB9KTsKICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShsaXN0KTsKfQoKCmZ1bmN0aW9uIGJvb2tfcGFyc2UodXJsLCBodG1sLCBoZWFkZXJzKSB7CiAgICB2YXIgJCA9IGNoZWVyaW8ubG9hZChodG1sKTsKICAgIHZhciBib29rID0gewogICAgICAgIHRpdGxlOiAkKCcuc3R1aS1jb250ZW50X19kZXRhaWwgPiBoMy50aXRsZScpLnRleHQoKSwKICAgICAgICBjb3ZlcjogJCgnLmltZy1yZXNwb25zaXZlJykuYXR0cignZGF0YS1vcmlnaW5hbCcpLAogICAgICAgIGluZm86ICQoJy5zdHVpLWNvbnRlbnRfX2Rlc2MnKS50ZXh0KCkudHJpbSgpLAogICAgfTsKICAgIHZhciBtYXAgPSBuZXcgTWFwKCk7CiAgICAkKCcuc3R1aS1jb250ZW50X19wbGF5bGlzdCcpLmVhY2goZnVuY3Rpb24gKGksIGUpIHsKICAgICAgICB2YXIgc2VjdGlvbnMgPSBbXTsKICAgICAgICAkKCcuc3R1aS1jb250ZW50X19wbGF5bGlzdCcpLmVxKGkpLmNoaWxkcmVuKCdsaScpLmVhY2goZnVuY3Rpb24gKGksIGUpIHsKICAgICAgICAgICAgc2VjdGlvbnMucHVzaCh7CiAgICAgICAgICAgICAgICB0aXRsZTogJCh0aGlzKS5jaGlsZHJlbignYScpLnRleHQoKSwKICAgICAgICAgICAgICAgIGxpbms6ICQodGhpcykuY2hpbGRyZW4oJ2EnKS5hdHRyKCdocmVmJyksCiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIG1hcFtg5pKt5pS+5Zyw5Z2AJHtpfWBdID0gc2VjdGlvbnM7CiAgICB9KTsKICAgIGJvb2suc2VjdGlvbnMgPSBtYXA7CgogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGJvb2spOwp9CgpmdW5jdGlvbiBkZXRhaWxzX3BhcnNlKHVybCwgaHRtbCwgaGVhZGVycykgewogICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKGh0bWwpOwogICAgaWYgKGRhdGEucmVzb3VyY2UgPT0gbnVsbCB8fCBkYXRhLnJlc291cmNlLmxlbmd0aCA8PSAwKSB7CiAgICAgICAgcmV0dXJuICJFUlJPUjrmsqHmnInll4XmjqLliLDotYTmupAiOwogICAgfQogICAgdmFyIGxpbmsgPSBkYXRhLnJlc291cmNlWzBdLmxpbms7CiAgICBpZiAobGluay5zdGFydHNXaXRoKCdodHRwczovL2p4Lnd1amlua2suY29tL2RwbGF5ZXIvP3VybD0nKSkgewogICAgICAgIGxpbmsgPSBsaW5rLnJlcGxhY2UoImh0dHBzOi8vangud3VqaW5ray5jb20vZHBsYXllci8/dXJsPSIsICIiKTsKICAgIH0gZWxzZSBpZiAobGluay5zdGFydHNXaXRoKCdodHRwczovL3BsYXkuc2h6cGluLmNvbS9wbGF5Lz91cmw9JykpIHsKICAgICAgICBsaW5rID0gbGluay5yZXBsYWNlKCJodHRwczovL3BsYXkuc2h6cGluLmNvbS9wbGF5Lz91cmw9IiwgIiIpOwogICAgfQoKICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7IG1pbWU6ICJ2aWRlby8qIiwgbGluazogbGluayB9KTsKfQ=="
    },
    "home": {
        "title": "首页",
        "url": "/vodtype/1-@page.html",
        "method": "GET",
        "parse": "home_parse",
        "startPage": 1,
        "addPage": 1
    },
    "search": {
        "title": "搜索",
        "url": "/vodsearch/@key----------@page---.html",
        "method": "GET",
        "parse": "home_parse",
        "cacheAge": "1h"
    },
    "book": {
        "title": "详情",
        "method": "GET",
        "parse": "book_parse",
        "cacheAge": "1h"
    },
    "details": {
        "title": "内容",
        "method": "GET",
        "parse": "details_parse",
        "sniffFilters": "\\.m3u8|\\.mp4",
        "sniff": true,
        "sniffDelay": 18000,
        "fastMode": true
    }
}