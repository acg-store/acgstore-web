{
    "sid": "2ecaf811-27a7-476f-96d0-fb7c52ca588f",
    "name": "奇漫屋",
    "logo": "",
    "info": "群友推荐，奇漫屋为您推荐全网最新最全漫画，第一时间更新漫画。",
    "baseUrl": "http://m.qiman59.com/",
    "type": 1,
    "grade": 4,
    "needProxy": 0,
    "encode": "utf-8",
    "userAgent": "Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Mobile Safari/537.36",
    "style": 1,
    "version": "1.0.1",
    "imgMode": 1,
    "engine": 20,
    "author": {
        "name": "静静",
        "info": "我是静静，App和轻应用有问题都可以联系我哦",
        "contact": "1077674403",
        "donateLink": [
            "https://otaku-time-1s.oss-cn-beijing.aliyuncs.com/otaku/image/img_donate_alipay.jpg",
            "https://otaku-time-1s.oss-cn-beijing.aliyuncs.com/otaku/image/img_donate_wechat.png"
        ]
    },
    "script": {
        "requires": [
            {
                "lib": "cheerio",
                "url": ""
            }
        ],
        "code": "ZnVuY3Rpb24gaG9tZV9wYXJzZSh1cmwsIGh0bWwsIGhlYWRlcnMpIHsKICAgIHZhciBsaXN0ID0gW107CiAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UoaHRtbCk7CiAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICAgZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgICAgICBsaXN0LnB1c2goewogICAgICAgICAgICAgICAgdGl0bGU6IGVsZW1lbnQubmFtZSwKICAgICAgICAgICAgICAgIGxpbms6IGAvJHtlbGVtZW50LmlkfS9gLAogICAgICAgICAgICAgICAgYXV0aG9yOiBlbGVtZW50LmF1dGhvciwKICAgICAgICAgICAgICAgIGNvdmVyOiBlbGVtZW50LmltZ3VybCwKICAgICAgICAgICAgICAgIGluZm86ICfmnIDmlrDnq6DoioI6JyArIGVsZW1lbnQucmVtYXJrcyArICdcbicgKyBlbGVtZW50LmludHJvLAogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgICAgdGhyb3cgIuiOt+WPluaVsOaNruWksei0pSI7CiAgICB9CiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobGlzdCk7Cn0KCmZ1bmN0aW9uIHNlYXJjaF9wYXJzZSh1cmwsIGh0bWwsIGhlYWRlcnMpIHsKICAgIHZhciBsaXN0ID0gW107CiAgICBsZXQgJCA9IGNoZWVyaW8ubG9hZChodG1sKTsKICAgICQoJy5zZWFyY2gtcmVzdWx0JykuY2hpbGRyZW4oJy5jb21pYy1saXN0LWl0ZW0nKS5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7CiAgICAgICAgbGlzdC5wdXNoKHsKICAgICAgICAgICAgdGl0bGU6ICQodGhpcykuZmluZCgnaW1nJykuZmlyc3QoKS5hdHRyKCdhbHQnKS5yZXBsYWNlKCfmvKvnlLsnLCAnJyksCiAgICAgICAgICAgIGxpbms6ICQodGhpcykuY2hpbGRyZW4oJ2EnKS5hdHRyKCdocmVmJyksCiAgICAgICAgICAgIGNvdmVyOiAkKHRoaXMpLmZpbmQoJ2ltZycpLmZpcnN0KCkuYXR0cignc3JjJykKICAgICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGxpc3QpOwp9CgpmdW5jdGlvbiBib29rX3BhcnNlKHVybCwgaHRtbCwgaGVhZGVycykgewogICAgbGV0ICQgPSBjaGVlcmlvLmxvYWQoaHRtbCk7CiAgICB2YXIgYm9vayA9IHsKICAgICAgICBjb3ZlcjogJCgnLmJhbm5lciA+IC5jYXJ0b29uLXBvc3RlcicpLmF0dHIoJ3NyYycpLAogICAgICAgIHRpdGxlOiAkKCcuYmFubmVyID4gLmNhcnRvb24tdGl0bGUnKS50ZXh0KCksCiAgICAgICAgYXV0aG9yOiAkKCcuYXV0aG9yJykudGV4dCgpLAogICAgICAgIGluZm86ICQoJy5pbnRyb2R1Y3Rpb24nKS50ZXh0KCksCiAgICAgICAgc2VjdGlvbnM6IG5ldyBNYXAoKSwKICAgICAgICBpc1NlY3Rpb25Bc2M6IDAKICAgIH07CiAgICB2YXIgdGltZSA9IGh0bWwubWF0Y2goL+abtOaWsOaXtumXtO+8miguKj8pPFwvLyk7CiAgICBpZiAodGltZSAhPSBudWxsICYmIHRpbWUubGVuZ3RoID49IDIpIHsKICAgICAgICBib29rLnVwZGF0ZVRpbWUgPSB0aW1lWzFdOwogICAgfQogICAgdmFyIHNlY3Rpb25zID0gW107CiAgICAkKCcuY2hhcHRlci1pdGVtID4gYScpLmVhY2goZnVuY3Rpb24gKGksIGUpIHsKICAgICAgICBzZWN0aW9ucy5wdXNoKHsKICAgICAgICAgICAgdGl0bGU6ICQodGhpcykudGV4dCgpLAogICAgICAgICAgICBsaW5rOiAkKHRoaXMpLmF0dHIoJ2hyZWYnKQogICAgICAgIH0pOwogICAgfSk7CiAgICBpZiAoc2VjdGlvbnMubGVuZ3RoID09IDApIHsKICAgICAgICB0aHJvdyAn6K+l5ryr55S75bey5LiL5p62JzsKICAgIH0KCiAgICBsZXQgcmVnID0gL1x7ICJpZCI6IChcZCspLCAiaWQyIjogKFxkKylcfS87CiAgICBsZXQgbWF0Y2hSZXMgPSBodG1sLm1hdGNoKHJlZyk7CgogICAgaWYgKG1hdGNoUmVzICE9IG51bGwgJiYgbWF0Y2hSZXMubGVuZ3RoID49IDIpIHsKICAgICAgICBib29rLmV4dHJhID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICBpZDogbWF0Y2hSZXNbMV0sCiAgICAgICAgICAgIHZpZDogbWF0Y2hSZXNbMl0KICAgICAgICB9KTsKICAgIH0KICAgIGJvb2suc2VjdGlvbnNbJ+ebruW9lSddID0gc2VjdGlvbnM7CgogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGJvb2spOwp9CgpmdW5jdGlvbiBib29rX3NlY3Rpb25zX2J1aWxkX3VybCh1cmwsIGxhc3RSZXN1bHQpIHsKICAgIGxldCBib29rID0gSlNPTi5wYXJzZShsYXN0UmVzdWx0KTsKICAgIGxldCBleHRyYSA9IEpTT04ucGFyc2UoYm9vay5leHRyYSk7CiAgICBpZiAoZXh0cmEgIT0gbnVsbCkgewogICAgICAgIHJldHVybiBgL2Jvb2tjaGFwdGVyLzo6aWQ9JHtleHRyYS5pZH0maWQyPSR7ZXh0cmEudmlkfWAKICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICJfX19OT19fTkVFRF9fUkVRVUVTVF9fIjsKICAgIH0KfQoKZnVuY3Rpb24gYm9va19zZWN0aW9uc19wYXJzZSh1cmwsIGh0bWwsIGhlYWRlcnMsIGxhc3RSZXN1bHQpIHsKICAgIHZhciBib29rID0gSlNPTi5wYXJzZShsYXN0UmVzdWx0KTsKICAgIGxldCBleHRyYSA9IEpTT04ucGFyc2UoYm9vay5leHRyYSk7CiAgICBpZiAoaHRtbC5zdGFydHNXaXRoKCdbJykpIHsKICAgICAgICBjb25zb2xlLmxvZyhodG1sKQogICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShodG1sKTsKICAgICAgICB2YXIgc2VjdGlvbnMgPSBib29rLnNlY3Rpb25zWyfnm67lvZUnXTsKICAgICAgICBpZiAoc2VjdGlvbnMgPT0gbnVsbCkgc2VjdGlvbnMgPSBbXTsKICAgICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgIHNlY3Rpb25zLnB1c2goewogICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgIGxpbms6ICcvJyArIGV4dHJhLmlkICsgJy8nICsgaXRlbS5pZCArICcuaHRtbCcKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgYm9vay5zZWN0aW9uc1sn55uu5b2VJ10gPSBzZWN0aW9uczsKICAgIH0KCiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYm9vayk7Cn0KCgpmdW5jdGlvbiBkZXRhaWxzX3BhcnNlKHVybCwgaHRtbCwgaGVhZGVycykgewogICAgZXZhbChodG1sLm1hdGNoKC9ldmFsXChmdW5jdGlvbi4qXClcKS8pWzBdKTsKICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7IGltYWdlczogbmV3SW1ncyB9KTsKfQ=="
    },
    "home": {
        "title": "最新",
        "url": "/ajaxf/?page_num=@page&type=5",
        "method": "GET",
        "parse": "home_parse",
        "startPage": 0,
        "addPage": 1,
        "headers": {
            "Proxy-Connection": "keep-alive",
            "Referer": "http://m.qiman59.com",
            "User-Agent": "Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Mobile Safari/537.36 Edg/116.0.0.0",
            "X-Requested-With": "XMLHttpRequest"
        }
    },
    "tag": {
        "title": "分类",
        "method": "POST",
        "parse": "home_parse",
        "startPage": 1,
        "addPage": 1,
        "items": [
            {
                "group": "排行",
                "title": "人气榜",
                "url": "/rankdata.php::page_num=@page&type=4"
            },
            {
                "group": "排行",
                "title": "日读榜",
                "url": "/rankdata.php::page_num=@page&type=1"
            },
            {
                "group": "排行",
                "title": "周读榜",
                "url": "/rankdata.php::page_num=@page&type=2"
            },
            {
                "group": "排行",
                "title": "月读榜",
                "url": "/rankdata.php::page_num=@page&type=3"
            },
            {
                "group": "排行",
                "title": "新作榜",
                "url": "/rankdata.php::page_num=@page&type=6"
            }
        ]
    },
    "search": {
        "title": "搜索",
        "url": "/spotlight/?keyword=@key",
        "method": "GET",
        "parse": "search_parse"
    },
    "book": {
        "title": "详情",
        "method": "GET",
        "parse": "book_parse",
        "cacheAge": "1h",
        "adds": [
            {
                "title": "解析更多目录",
                "method": "POST",
                "headers": {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                "buildUrl": "book_sections_build_url",
                "parse": "book_sections_parse",
                "cacheAge": "1h"
            }
        ]
    },
    "details": {
        "title": "内容",
        "method": "GET",
        "parse": "details_parse",
        "cacheAge": "1h"
    }
}